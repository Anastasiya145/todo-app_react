(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c,o=n(25),l=n.n(o),a=(n(30),n(31),n(32),n(12)),r=n(0),i=n(2),s=n(9),u=n(7),d=n(5);!function(e){e.All="all",e.Active="active",e.Completed="completed"}(c||(c={}));var j=n(14),b=n.n(j),m=n(3),p=function(e){var t=e.onDeleteCompletedTodos,n=e.todosLeft,o=e.completedTodosLength,l=function(e){return"all"===e?"/":"/".concat(e)};return Object(m.jsxs)("footer",{className:"footer",children:[Object(m.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(n," items left")}),Object(m.jsx)("ul",{className:"filters",children:Object.entries(c).map((function(e){var t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(m.jsx)("li",{children:Object(m.jsx)(a.b,{to:l(c),className:function(e){var t=e.isActive;return b()({selected:t})},children:n})},n)}))}),Object(m.jsx)("button",{type:"button",onClick:t,className:b()("clear-completed",{"clear-completed--hidden":!o}),children:"Clear completed"})]})},O=function(e){var t=e.query,n=e.onInputChange,c=e.onFormSubmit;return Object(m.jsx)("form",{onSubmit:function(e){return c(e)},children:Object(m.jsx)("input",{type:"text","data-cy":"createTodo",className:"new-todo",placeholder:"What needs to be done?",value:t,onChange:function(e){return n(e.target.value)}})})},f=function(e){var t=e.todo,n=e.onDeleteTodo,c=e.onToggle,o=e.onRenameTodo,l=Object(r.useState)(!1),a=Object(d.a)(l,2),i=a[0],s=a[1],u=Object(r.useState)(t.title),j=Object(d.a)(u,2),p=j[0],O=j[1],f=function(e){s(!1);var c=e.trim();c?t.title!==c&&o(t.id,c):n(t.id)};return Object(m.jsxs)("li",{onDoubleClick:function(){return s(!i)},className:b()({completed:t.completed},{editing:i}),children:[Object(m.jsxs)("div",{className:"view",children:[Object(m.jsx)("input",{type:"checkbox",className:"toggle",id:b()({"toggle-view":!t.completed},{"toggle-completed":t.completed}),onClick:function(){return c(t.id)},checked:t.completed,onChange:function(){}}),Object(m.jsx)("label",{children:t.title}),Object(m.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo",onClick:function(){return n(t.id)}})]}),Object(m.jsx)("input",{type:"text",className:"edit",value:p,onChange:function(e){return t=e.target.value,void O(t);var t},onKeyDown:function(e){return function(e){"Escape"===e.key&&(s(!1),O(t.title)),"Enter"===e.key&&f(p)}(e)},onBlur:function(){return f(p)}})]})},h=function(e){var t=e.todos,n=e.onDeleteTodo,c=e.onToggle,o=e.onRenameTodo;return Object(m.jsx)("ul",{className:"todo-list","data-cy":"todoList",children:t.map((function(e){return Object(m.jsx)(f,{todo:e,onDeleteTodo:n,onToggle:c,onRenameTodo:o},e.id)}))})},x=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],o=t[1],l=function(e,t){var n=Object(r.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(c){return t}})),c=Object(d.a)(n,2),o=c[0],l=c[1];return[o,function(t){l(t),window.localStorage.setItem(e,JSON.stringify(t))}]}("todos",[]),a=Object(d.a)(l,2),j=a[0],b=a[1],f=Object(i.l)(),x=j.filter((function(e){return!e.completed})).length,g=j.filter((function(e){return e.completed})),v=Object(r.useCallback)((function(e){b(j.filter((function(t){return t.id!==e})))}),[j]),y=Object(r.useCallback)((function(e,t){b(j.map((function(n){return n.id===e?Object(s.a)(Object(s.a)({},n),{},{title:t}):n})))}),[j]),C=Object(r.useCallback)((function(e){b(j.map((function(t){return t.id===e?Object(s.a)(Object(s.a)({},t),{},{completed:!t.completed}):t})))}),[j]),k=Object(r.useCallback)((function(){var e=j.every((function(e){return e.completed})),t=j.map((function(t){return e?Object(s.a)(Object(s.a)({},t),{},{completed:!t.completed}):Object(s.a)(Object(s.a)({},t),{},{completed:!0})}));b(Object(u.a)(t))}),[j]),N=Object(r.useMemo)((function(){return j.filter((function(e){switch(f.pathname.slice(1)){case c.Active:return!e.completed;case c.Completed:return e.completed;default:return e}}))}),[f,j]);return Object(m.jsxs)("div",{className:"todoapp",children:[Object(m.jsxs)("header",{className:"header",children:[Object(m.jsx)("h1",{children:"todos"}),Object(m.jsx)(O,{query:n,onInputChange:function(e){o(e)},onFormSubmit:function(e){e.preventDefault();var t={id:+new Date,title:n,completed:!1};b([].concat(Object(u.a)(j),[t])),o("")}})]}),j.length>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("section",{className:"main",children:[Object(m.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",onClick:k}),Object(m.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(m.jsx)(h,{todos:N,onDeleteTodo:v,onToggle:C,onRenameTodo:y})]}),Object(m.jsx)(p,{onDeleteCompletedTodos:function(){b(j.filter((function(e){return!e.completed})))},todosLeft:x,completedTodosLength:g.length})]})]})},g=function(){return Object(m.jsxs)(i.d,{children:[Object(m.jsxs)(i.b,{path:"/",children:[Object(m.jsx)(i.b,{index:!0,element:Object(m.jsx)(x,{})}),Object(m.jsx)(i.b,{path:"/active",element:Object(m.jsx)(x,{})}),Object(m.jsx)(i.b,{path:"/completed",element:Object(m.jsx)(x,{})})]}),Object(m.jsx)(i.b,{path:"*",element:Object(m.jsx)(i.a,{to:"/"})})]})};l.a.render(Object(m.jsx)(a.a,{children:Object(m.jsx)(g,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.7be8b29c.chunk.js.map